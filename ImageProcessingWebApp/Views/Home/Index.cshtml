@{
    ViewData["Title"] = "Image Processing Calculator";
}

<div>
    <h1>Editing Job Calculator</h1>

    @if (ViewBag.TotalTime == null)
    {
        <form asp-action="Calculate" method="post">
            <div>
                <label for="totalImages">Total Images:</label>
                <input type="number" id="totalImages" name="totalImages" required />
            </div>

            <div id="workers">
                <h3>People</h3>
                <div class="input-container">
                    <label for="name1">Name:</label>
                    <input type="text" id="name1" name="workers[0].Name" required />
                    <label for="minutesPerImage1">Minutes per Image:</label>
                    <input type="number" step="0.01" id="minutesPerImage1" name="workers[0].Speed" required />
                    <br>
                    <label for="name2">Name:</label>
                    <input type="text" id="name2" name="workers[1].Name" required />
                    <label for="minutesPerImage2">Minutes per Image:</label>
                    <input type="number" step="0.01" id="minutesPerImage2" name="workers[1].Speed" required />
                    <br>
                    <label for="name3">Name:</label>
                    <input type="text" id="name3" name="workers[2].Name" required />
                    <label for="minutesPerImage3">Minutes per Image:</label>
                    <input type="number" step="0.01" id="minutesPerImage3" name="workers[2].Speed" required />
                </div>
            </div>
            <br>
            <button type="submit">Calculate</button>
        </form>
    }
    else
    {
        <h2>Job Results</h2>
        <p>Total Time: @ViewBag.TotalTime minutes</p>
        <h3>Images Edited by Each Person:</h3>
        <ul>
            @foreach (var worker in ViewBag.ImagesPerWorker)
            {
                <li>@worker.Key: @worker.Value images</li>
            }
        </ul>
        <a href="@Url.Action("Index")">Calculate Another Job</a>
    }
</div>
